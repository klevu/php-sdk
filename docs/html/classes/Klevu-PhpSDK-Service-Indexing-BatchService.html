<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Documentation</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Documentation</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/klevu.html" class="">Klevu</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/klevu-phpsdk.html" class="">PhpSDK</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Application.html" class="">Application</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/klevu.html">Klevu</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/klevu-phpsdk.html">PhpSDK</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/klevu-phpsdk-service.html">Service</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/klevu-phpsdk-service-indexing.html">Indexing</a></li>
    </ul>

    <article class="phpdocumentor-element -class">
        <h2 class="phpdocumentor-content__title">
    BatchService

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs">
                                    <li class="phpdocumentor-breadcrumb"><a href="packages/Application.html">Application</a></li>
                            </ul>
        </div>
    
            <span class="phpdocumentor-element__implements">
            implements
                            <a href="classes/Klevu-PhpSDK-Api-Service-Indexing-BatchServiceInterface.html"><abbr title="\Klevu\PhpSDK\Api\Service\Indexing\BatchServiceInterface">BatchServiceInterface</abbr></a>                    </span>
    
            <span class="phpdocumentor-element__extends">
            Uses
                            <abbr title="\Klevu\PhpSDK\Service\CreateEndpointTrait">CreateEndpointTrait</abbr>,                             <abbr title="\Klevu\PhpSDK\Traits\MaskSensitiveDataTrait">MaskSensitiveDataTrait</abbr>,                             <abbr title="\Klevu\PhpSDK\Traits\Psr17FactoryTrait">Psr17FactoryTrait</abbr>                    </span>
    </h2>

<div class="phpdocumentor-label-line">


</div>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Service/Indexing/BatchService.php"><a href="files/src-service-indexing-batchservice.html"><abbr title="src/Service/Indexing/BatchService.php">BatchService.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">56</span>

    </aside>

            <p class="phpdocumentor-summary">Service class responsible for adding and updating records in Klevu&#039;s index</p>



    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.0.0</span>
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">link</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <a class="phpdocumentor-tag-link" href="https://docs.klevu.com/indexing-apis/how-to-do-with-examples"> https://docs.klevu.com/indexing-apis/how-to-do-with-examples </a>
                    
                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">link</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <a class="phpdocumentor-tag-link" href="https://docs.klevu.com/indexing-apis/api-definition"> https://docs.klevu.com/indexing-apis/api-definition </a>
                    
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/Klevu-PhpSDK-Provider-Indexing-Batch-RequestPayloadProvider.html"><abbr title="\Klevu\PhpSDK\Provider\Indexing\Batch\RequestPayloadProvider">RequestPayloadProvider</abbr></a></span>
                                        
                                             
                                    </dd>
                        </dl>



<h3 id="toc">
    Table of Contents
    <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>



    <h4 id="toc-interfaces">
        Interfaces
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#toc-interfaces" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <dl class="phpdocumentor-table-of-contents">
                    <dt class="phpdocumentor-table-of-contents__entry -interface"><a href="classes/Klevu-PhpSDK-Api-Service-Indexing-BatchServiceInterface.html"><abbr title="\Klevu\PhpSDK\Api\Service\Indexing\BatchServiceInterface">BatchServiceInterface</abbr></a></dt><dd>Service responsible for adding and updating records in Klevu&#039;s index</dd>    </dl>







<h4 id="toc-methods">
    Methods
    <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method___construct">__construct()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getEndpoint">getEndpoint()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Returns the full endpoint for requests made by this service class</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getUserAgentProvider">getUserAgentProvider()</a>
    <span>
                                &nbsp;: <a href="classes/Klevu-PhpSDK-Provider-UserAgentProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\UserAgentProviderInterface">UserAgentProviderInterface</abbr></a>|null    </span>
</dt>
<dd>Returns the object responsible for handling User-Agent provision for this service</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_send">send()</a>
    <span>
                                &nbsp;: <a href="classes/Klevu-PhpSDK-Api-Model-ApiResponseInterface.html"><abbr title="\Klevu\PhpSDK\Api\Model\ApiResponseInterface">ApiResponseInterface</abbr></a>    </span>
</dt>
<dd>Sends a request to Klevu&#039;s batch indexing endpoint containing records to be actioned</dd>

    </dl>




        

        

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___construct">
        __construct()
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method___construct" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Service/Indexing/BatchService.php"><a href="files/src-service-indexing-batchservice.html"><abbr title="src/Service/Indexing/BatchService.php">BatchService.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">133</span>

    </aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__construct</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-BaseUrlsProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\BaseUrlsProviderInterface">BaseUrlsProviderInterface</abbr></a>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$baseUrlsProvider</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Http\Client\ClientInterface">ClientInterface</abbr>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$httpClient</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Log\LoggerInterface">LoggerInterface</abbr>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$logger</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Validator-ValidatorInterface.html"><abbr title="\Klevu\PhpSDK\Validator\ValidatorInterface">ValidatorInterface</abbr></a>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$accountCredentialsValidator</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Validator-ValidatorInterface.html"><abbr title="\Klevu\PhpSDK\Validator\ValidatorInterface">ValidatorInterface</abbr></a>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$recordValidator</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-RequestBearerTokenProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\RequestBearerTokenProviderInterface">RequestBearerTokenProviderInterface</abbr></a>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$requestBearerTokenProvider</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-Indexing-Batch-RequestPayloadProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\Indexing\Batch\RequestPayloadProviderInterface">RequestPayloadProviderInterface</abbr></a>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$requestPayloadProvider</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Http\Message\RequestFactoryInterface">RequestFactoryInterface</abbr>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$requestFactory</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Http\Message\ResponseFactoryInterface">ResponseFactoryInterface</abbr>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$responseFactory</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-UserAgentProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\UserAgentProviderInterface">UserAgentProviderInterface</abbr></a>|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$userAgentProvider</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Model-Indexing-AuthAlgorithms.html"><abbr title="\Klevu\PhpSDK\Model\Indexing\AuthAlgorithms">AuthAlgorithms</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$authAlgorithm</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">AuthAlgorithms::HMAC_SHA384</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Service-Indexing-InvalidRecordMode.html"><abbr title="\Klevu\PhpSDK\Service\Indexing\InvalidRecordMode">InvalidRecordMode</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$invalidRecordMode</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">InvalidRecordMode::SKIP</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$maxBatchSize</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">250</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$baseUrlsProvider</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-BaseUrlsProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\BaseUrlsProviderInterface">BaseUrlsProviderInterface</abbr></a>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, a new instance of <a href="classes/Klevu-PhpSDK-Provider-BaseUrlsProvider.html"><abbr title="\Klevu\PhpSDK\Provider\BaseUrlsProvider">BaseUrlsProvider</abbr></a> is used</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$httpClient</span>
                : <span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Http\Client\ClientInterface">ClientInterface</abbr>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, discovery of compatible clients will be attempted</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$logger</span>
                : <span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Log\LoggerInterface">LoggerInterface</abbr>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$accountCredentialsValidator</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Validator-ValidatorInterface.html"><abbr title="\Klevu\PhpSDK\Validator\ValidatorInterface">ValidatorInterface</abbr></a>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, a new instance of <a href="classes/Klevu-PhpSDK-Validator-AccountCredentialsValidator.html"><abbr title="\Klevu\PhpSDK\Validator\AccountCredentialsValidator">AccountCredentialsValidator</abbr></a> is used</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$recordValidator</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Validator-ValidatorInterface.html"><abbr title="\Klevu\PhpSDK\Validator\ValidatorInterface">ValidatorInterface</abbr></a>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, a new instance of <a href="classes/Klevu-PhpSDK-Validator-Indexing-RecordValidator.html"><abbr title="\Klevu\PhpSDK\Validator\Indexing\RecordValidator">RecordValidator</abbr></a> is used</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$requestBearerTokenProvider</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-RequestBearerTokenProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\RequestBearerTokenProviderInterface">RequestBearerTokenProviderInterface</abbr></a>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, a new instance of <a href="classes/Klevu-PhpSDK-Provider-RequestBearerTokenProvider.html"><abbr title="\Klevu\PhpSDK\Provider\RequestBearerTokenProvider">RequestBearerTokenProvider</abbr></a> is created using this class' logger
and accountCredentialsValidator properties</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$requestPayloadProvider</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-Indexing-Batch-RequestPayloadProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\Indexing\Batch\RequestPayloadProviderInterface">RequestPayloadProviderInterface</abbr></a>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, a new instance of <a href="classes/Klevu-PhpSDK-Provider-Indexing-Batch-RequestPayloadProvider.html"><abbr title="\Klevu\PhpSDK\Provider\Indexing\Batch\RequestPayloadProvider">RequestPayloadProvider</abbr></a> is used</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$requestFactory</span>
                : <span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Http\Message\RequestFactoryInterface">RequestFactoryInterface</abbr>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$responseFactory</span>
                : <span class="phpdocumentor-signature__argument__return-type"><abbr title="\Psr\Http\Message\ResponseFactoryInterface">ResponseFactoryInterface</abbr>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$userAgentProvider</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Provider-UserAgentProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\UserAgentProviderInterface">UserAgentProviderInterface</abbr></a>|null</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>If null, a new instance of <a href="classes/Klevu-PhpSDK-Provider-UserAgentProvider.html"><abbr title="\Klevu\PhpSDK\Provider\UserAgentProvider">UserAgentProvider</abbr></a> is used</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$authAlgorithm</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Model-Indexing-AuthAlgorithms.html"><abbr title="\Klevu\PhpSDK\Model\Indexing\AuthAlgorithms">AuthAlgorithms</abbr></a></span>
                 = <span class="phpdocumentor-signature__argument__default-value">AuthAlgorithms::HMAC_SHA384</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$invalidRecordMode</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Service-Indexing-InvalidRecordMode.html"><abbr title="\Klevu\PhpSDK\Service\Indexing\InvalidRecordMode">InvalidRecordMode</abbr></a></span>
                 = <span class="phpdocumentor-signature__argument__default-value">InvalidRecordMode::SKIP</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$maxBatchSize</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">250</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method___construct#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Http\Discovery\Exception\NotFoundException">NotFoundException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Where httpClient is not provided and no PSR-18 compatible ClientInterface
can be automagically discovered</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><abbr title="\Http\Discovery\Psr18ClientDiscovery::find()">Psr18ClientDiscovery::find()</abbr></span>
                                        
                                             
                                    </dd>
                        </dl>

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_getEndpoint">
        getEndpoint()
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getEndpoint" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Service/Indexing/BatchService.php"><a href="files/src-service-indexing-batchservice.html"><abbr title="src/Service/Indexing/BatchService.php">BatchService.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">175</span>

    </aside>

        <p class="phpdocumentor-summary">Returns the full endpoint for requests made by this service class</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">getEndpoint</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getEndpoint#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\LogicException">LogicException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>On internal errors encountered by the application, such as incorrectly
configured base URLs information</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">example</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>https://indexing.ksearchnet.com/v2/batch</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><abbr title="\Klevu\PhpSDK\Provider\BaseUrlsProviderInterface::getIndexingUrl">BaseUrlsProviderInterface::getIndexingUrl</abbr></span>
                                        
                                             
                                    </dd>
                        </dl>

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_getUserAgentProvider">
        getUserAgentProvider()
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getUserAgentProvider" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Service/Indexing/BatchService.php"><a href="files/src-service-indexing-batchservice.html"><abbr title="src/Service/Indexing/BatchService.php">BatchService.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">190</span>

    </aside>

        <p class="phpdocumentor-summary">Returns the object responsible for handling User-Agent provision for this service</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">getUserAgentProvider</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/Klevu-PhpSDK-Provider-UserAgentProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\UserAgentProviderInterface">UserAgentProviderInterface</abbr></a>|null</span></code>

    <div class="phpdocumentor-label-line">
        </div>
        <section class="phpdocumentor-description"><p>Method provided to allow entry point for injecting and modifying user agent strings</p>
</section>

    
    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/Klevu-PhpSDK-Provider-UserAgentProviderInterface.html"><abbr title="\Klevu\PhpSDK\Provider\UserAgentProviderInterface">UserAgentProviderInterface</abbr></a>|null</span>
            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_send">
        send()
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_send" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Service/Indexing/BatchService.php"><a href="files/src-service-indexing-batchservice.html"><abbr title="src/Service/Indexing/BatchService.php">BatchService.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">212</span>

    </aside>

        <p class="phpdocumentor-summary">Sends a request to Klevu&#039;s batch indexing endpoint containing records to be actioned</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">send</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Model-AccountCredentials.html"><abbr title="\Klevu\PhpSDK\Model\AccountCredentials">AccountCredentials</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$accountCredentials</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Model-Indexing-RecordIterator.html"><abbr title="\Klevu\PhpSDK\Model\Indexing\RecordIterator">RecordIterator</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$records</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type"><a href="classes/Klevu-PhpSDK-Api-Model-ApiResponseInterface.html"><abbr title="\Klevu\PhpSDK\Api\Model\ApiResponseInterface">ApiResponseInterface</abbr></a></span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$accountCredentials</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Model-AccountCredentials.html"><abbr title="\Klevu\PhpSDK\Model\AccountCredentials">AccountCredentials</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$records</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/Klevu-PhpSDK-Model-Indexing-RecordIterator.html"><abbr title="\Klevu\PhpSDK\Model\Indexing\RecordIterator">RecordIterator</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_send#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>If the invalid record mode is set to SKIP, invalid records will be ignored but any valid records
will be sent to Klevu, which may lead to batch sizes smaller than expected. When the invalid record
mode is set to FAIL, any invalid record will cause the entire batch to fail amd trigger am
InvalidDataValidationException</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><a href="classes/Klevu-PhpSDK-Exception-ValidationException.html"><abbr title="\Klevu\PhpSDK\Exception\ValidationException">ValidationException</abbr></a></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Where the account credentials or record arguments contain invalid
information and fail internal validation. API request is NOT sent</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><a href="classes/Klevu-PhpSDK-Exception-Validation-InvalidDataValidationException.html"><abbr title="\Klevu\PhpSDK\Exception\Validation\InvalidDataValidationException">InvalidDataValidationException</abbr></a></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>When the number of records to send exceeds the batch size;
any records fail validation and the invalid record mode is FAIL;
or zero records are marked for send after validation is performed</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><a href="classes/Klevu-PhpSDK-Exception-Api-BadRequestException.html"><abbr title="\Klevu\PhpSDK\Exception\Api\BadRequestException">BadRequestException</abbr></a></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Where the Klevu service rejects the request as invalid (4xx response code)</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><a href="classes/Klevu-PhpSDK-Exception-Api-BadResponseException.html"><abbr title="\Klevu\PhpSDK\Exception\Api\BadResponseException">BadResponseException</abbr></a></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Where the Klevu service does not return a valid response (timeouts, 5xx response)</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/Klevu-PhpSDK-Service-Indexing-Batch-DeleteService.html#method_sendByIds"><abbr title="\Klevu\PhpSDK\Service\Indexing\Batch\DeleteService::sendByIds()">DeleteService::sendByIds()</abbr></a></span>
                                        
                                             
                                    </dd>
                                            </dl>

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type"><a href="classes/Klevu-PhpSDK-Api-Model-ApiResponseInterface.html"><abbr title="\Klevu\PhpSDK\Api\Model\ApiResponseInterface">ApiResponseInterface</abbr></a></span>
            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/src/Service/Indexing/BatchService.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                                
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                                                <li><a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#toc-methods">Methods</a></li>
                                    </ul>
            </li>
            
            
                        <li class="phpdocumentor-on-this-page-section__title">Methods</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li><a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method___construct">__construct()</a></li>
                                            <li><a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getEndpoint">getEndpoint()</a></li>
                                            <li><a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_getUserAgentProvider">getUserAgentProvider()</a></li>
                                            <li><a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#method_send">send()</a></li>
                                    </ul>
            </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/Klevu-PhpSDK-Service-Indexing-BatchService.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
